<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<link rel="stylesheet" href="../css/fontello.css">
<link rel="stylesheet" href="../css/animation.css">

<!-- Mirrored from phocean.net/tools/netios by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 26 May 2019 07:44:17 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>Netios | Phocean.net</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="../xmlrpc.php" />
<!--[if lt IE 9]>
<script src="/blog-archive/wp-content/themes/twentytwelve/js/html5.js"></script>
<![endif]-->

	  <link rel='dns-prefetch' href='http://fonts.googleapis.com/' />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link href='https://fonts.gstatic.com/' crossorigin rel='preconnect' />
<link rel="alternate" type="application/rss+xml" title="Phocean.net &raquo; Feed" href="/blog-archive/feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/phocean.net\/wp-includes\/js\/wp-emoji-release.min.js"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='wp-lightbox-2.min.css-css'  href='/blog-archive/wp-content/plugins/wp-lightbox-2/styles/lightbox.min.css?ver=1.3.4' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-fonts-css'  href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&amp;subset=latin,latin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-style-css'  href='/blog-archive/wp-content/themes/twentytwelve-child/style.css?ver=4.9.10' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-block-style-css'  href='/blog-archive/wp-content/themes/twentytwelve/css/blocks.css?ver=20181230' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='/blog-archive/wp-content/themes/twentytwelve/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' src='/blog-archive/wp-includes/js/jquery/jquery.js'></script>
<script type='text/javascript' src='/blog-archive/wp-includes/js/jquery/jquery-migrate.min.js'></script>
<link rel='https://api.w.org/' href='../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/blog-archive/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.9.10" />
<link rel="canonical" href="netios.html" />
<link rel='shortlink' href='../indexcfe8.html?p=507' />
<link rel="alternate" type="application/json+oembed" href="../wp-json/oembed/1.0/embeda7f1.js" />
<link rel="alternate" type="text/xml+oembed" href="../wp-json/oembed/1.0/embedb7b9?url=https%3A%2F%2Fphocean.net%2Ftools%2Fnetios&amp;format=xml" />
	<style type="text/css" id="twentytwelve-header-css">
			.site-header h1 a,
		.site-header h2 {
			color: #627690;
		}
		</style>
	</head>

<body class="page-template-default page page-id-507 page-child parent-pageid-494 full-width custom-font-enabled single-author">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<hgroup>
                        <div style="float:left">

			<a href="../index.html" >
			<img class="logo" src="../logo.svg" width="119" height="77" onerror="this.removeAttribute('onerror'); this.src='../logo.html'" />
			</a>

                        <!--<img src="/blog-archive/wp-content/themes/twentytwelve-child/logo.png" style="vertical-align:middle;"/>-->

                        </div>
                        <div style="float:left">
                        <h1 class="site-title">
                      <span><a href="../index.html" title="Phocean.net" rel="home">
                        Phocean.net</a></span></h1>
			<h2 class="site-description">Computer Security Blog</h2>
                </div>
		<div style="float:right;overflow:hidden;word-wrap: break-word;">
			<form role="search" method="get" id="searchform" class="searchform" action="/blog-archive/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s" />
					<input type="submit" id="searchsubmit" value="Search" />
				</div>
			</form>		</div>
		</hgroup>

                <div style="clear:both"></div>
		<nav id="site-navigation" class="main-navigation" role="navigation">
			<h3 class="menu-toggle">Menu</h3>
			<a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
			<div class="menu-top-container"><ul id="menu-top" class="nav-menu"><li id="menu-item-1527" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1527"><a href="../index.html"><i class="icon-home"></i> Blog</a></li>
<li id="menu-item-1919" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1919"><a href="../archives.html"><i class="icon-archive"></i> Archives</a></li>
<li id="menu-item-1525" class="menu-item menu-item-type-post_type menu-item-object-page current-page-ancestor menu-item-1525"><a href="../tools.html"><i class="icon-beaker"></i> Code</a></li>
<li id="menu-item-1559" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1559"><a href="../docs.html"><i class="icon-doc"></i> Docs</a></li>
<li id="menu-item-1526" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1526"><a href="../about.html"><i class="icon-user"></i> About</a></li>
<li id="menu-item-1809" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1809"><a href="http://twitter.com/_phocean"><i class="icon-twitter-1"></i> Twitter</a></li>
<li id="menu-item-1810" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1810"><a href="../indexcc4d.html?feed=rss"><i class="icon-rss"></i> RSS</a></li>
</ul></div>		</nav><!-- #site-navigation -->

			</header><!-- #masthead -->

	<div id="main" class="wrapper">
	<div id="primary" class="site-content">
		<div id="content" role="main">

							
	<article id="post-507" class="post-507 page type-page status-publish hentry">
		<header class="entry-header">
													<h1 class="entry-title">Netios</h1>
		</header>

		<div class="entry-content">
			<h2><strong>Synopsis</strong></h2>
<p>Netios is a little tool aimed to help network administrators to administrate a large number of Cisco network devices.<br />
Providing it with a list of equipments, it connects within SSH to remotly apply IOS commands.</p>
<p>It can automatically :</p>
<ul>
<li>retrieve and export in a CSV file the list of local users</li>
<li>update the local user, the enable password</li>
<li>change NTP settings</li>
<li>execute a file of customed IOS commands</li>
<li>retrieve configuration files</li>
</ul>
<p>It can read the targets from the command line or from a text file.</p>
<p>It makes use of multiprocessing so it can make the job quite quickly.</p>
<pre>% netios 10.10.10.100
[12715:29137]    Current credentials to use:
 Username: phocean
 SSH password:
 Enable password:
[12715:29137]    Updated SSH password
 Type in:
 Confirm:
[12715:29137]    Updated Enable password
 Type in:
 Confirm:
[12715:29137]    10.10.10.100    Starting process
[29137:29141]    10.10.10.100    Changing passwords
[12715:29137]    ### All hosts parsed. Good Bye !</pre>
<h2>Pre-requisites</h2>
<ul>
<li>A *nix box with OpenSSH client</li>
<li>A Python compiler <strong>&lt;= 2.6</strong> with basic modules</li>
<li>Other Python modules : pexpect, datetime, getpass, multiprocessing</li>
</ul>
<p>It has been tested so far on Linux (openSUSE 11.1 &amp; 11.2, Debian 4.0) .</p>
<p>Feedbacks on other platforms (Unix, *BSD, MacOS and maybe Windows/Cygwin) are welcomed.</p>
<h2>Licensing</h2>
<p>It is free and released as GNU GPL version 2.</p>
<p>Feel free to use or modify it as long as you respect the term of this license : refer to the COPYING file or to the <a title="GNU GPL version 2" href="http://www.gnu.org/licenses/gpl-2.0.html">GNU website</a> for more information.</p>
<p>Beyond licensing considerations, feedbacks or open talks are warmly welcomed !</p>
<h2>Caution</h2>
<p>Still ALPHA release quality software !</p>
<p>It is still in its early stage of development, so use it accordingly.</p>
<p>There is no warranty that it will work in your environment, so test it carefuly before using it in production.<br />
I decline any responsability in the use of this tool.</p>
<p>Especially, some functionalities may be marked as [EXPERIMENTAL] : it means that they are not finished or haven&#8217;t been tested enough. Avoid using them but for testing.</p>
<h2>Set up</h2>
<pre>$ tar xvfz netios-{release}.tar.gz
$ cd netios-{release}
$ sudo python setup.py install</pre>
<h2>How to use</h2>
<h3>General use</h3>
<p>Netios needs a list of SSH hosts to work on. It can be provided within the command line or from a simple text file (1 line = 1 host).<br />
A host can be either an IP address or a FQDN.</p>
<pre>netios [options] host1 host2 ... hostn</pre>
<p>Or :</p>
<pre>netios [options] -f FILE</pre>
<p>Without any further option, Netios will default to changing password mode and start an interactive session.<br />
For security reasons and to prevent any formating troubles, Netios works only interactively.</p>
<p><span style="text-decoration: underline;">Options and parameters:</span></p>
<pre><strong>--version</strong>
show program's version number and exit
<strong>-h, --help</strong>
show this help message and exit
<strong>-v, --verbose</strong>
Print verbose output.
<strong>-d, --debug</strong>
Debug mode : verbose and extra logs.</pre>
<p>Logs are saved into a log folder, created in the working directory. They contain a complete dump of the SSH dialog, showing IOS commands, so debugging an issue is pretty easy.<em></em></p>
<p><em><span style="color: #ff0000;"><strong>CAUTION</strong></span>: Log files may show in CLEAR the SSH and IOS PASSWORDS, so use it carefully only when necessary and don&#8217;t forget to clear up the files after use.</em></p>
<pre><strong>-f FILE, --file=FILE</strong>
Remote hosts file.
The file must be a simple text file with every line matching a host (IP or FQDN).
<strong>-x PROC, --proc=PROC</strong>
Number of simultaneous processes. By default, it is determine according to the hardware (1 core = 1 process).
<strong>-t TIMEOUT, --timeout=PROC</strong>
Connection timeout as an integer in seconds. Default value is 3 (= 3 seconds). Increase this value if your network is slow. Lower values are not recommanded and will certainly fail in a WAN environment.</pre>
<h3>Modes</h3>
<h4>Changing password (default)</h4>
<p>The default behavior of Netios is to parse each host given as a parameter and spawn a new process aimed to change the local passwords.<br />
Note that the tool is aimed to keep only one working local account, so all other accounts will be deleted during th process.<br />
We consider that during normal operations, one should have a working AAA server (Tacacs+ or Radius) and that a local account must be used only in case of emergency.</p>
<p>1)    It asks for an account to connect to all the provided hosts. This account must have the administrative rights to update the IOS accounts.<br />
It is <span style="text-decoration: underline;"><strong>strongly recommended</strong></span> to use a TACACS or RADIUS account to update local accounts, so that you keep control whatever happens. Though, it can work flawlessly with a local account.</p>
<p>2)    It connects to the host and update the account.</p>
<p>3)    It looks for other local accounts and erease all of them, except the one we just update.</p>
<p><span style="text-decoration: underline;">Options</span>:</p>
<pre><strong>--no-check </strong>No proof check will be processed with this option. It will speed up the process, when you have enough trust with the Netios process.</pre>
<p>Examples:</p>
<pre>$ netios 192.168.1.1 10.1.1.1 172.16.1.1
$ netios ./hostfile.txt
$ netios -a --tac 192.168.1.1</pre>
<h4>Command file</h4>
<p>The script will read a file containing your custom IOS commands. It will execute the sequence in &#8216;configure terminal&#8217; mode.</p>
<p><em><span style="color: #ff0000;"><strong>CAUTION</strong></span>: Beware of the syntax and the order of the commands, they won&#8217;t be checked by the tool !</em></p>
<p><span style="text-decoration: underline;">Parameters</span>:</p>
<pre><strong>-i FILE, --in=FILE</strong>
Read a command file. In this file, you can write any IOS command. The script will send them in configure terminal mode.<em></em></pre>
<p><span style="text-decoration: underline;">Examples</span>:</p>
<pre>$ netios 192.168.1.1 -i ./commands.txt</pre>
<h4>Retrieving an user list</h4>
<p>Netios output the list of local account registered in the router.<br />
The list is also recorded in an folder of the working directory, named &#8220;out&#8221;. The file is in CSV format.</p>
<p>It is recommended to use this mode as a test previously to changing password. It will give you a good idea of the connectivity, unavalaible hosts, etc.</p>
<p><span style="text-decoration: underline;">Parameters</span>:</p>
<pre><strong>-u, --showuser</strong>
Show user mode</pre>
<p><span style="text-decoration: underline;">Examples</span>:</p>
<pre>$ netios -u 192.168.1.1 10.1.1.1 172.16.1.1
$ netios -u ./hostfile.txt</pre>
<h4>Showing running configuration</h4>
<p>Netios will retrieve the running configuration of the router and save it into the &#8220;out&#8221; folder of the working directory.</p>
<p><span style="text-decoration: underline;">Parameters</span>:</p>
<pre><strong>-s, --shrun</strong>
Show running config mode</pre>
<p><span style="text-decoration: underline;">Examples</span>:</p>
<pre>$ netios -s 192.168.1.1 10.1.1.1 172.16.1.1
$ netios -s ./hostfile.txt</pre>
<h4>Changing NTP server</h4>
<p>Netios updates the ntp servers set in the router. Each NTP server must be given within the command line with -n. It can be an IP address or a FQDN.</p>
<p><span style="text-decoration: underline;">Parameters</span>:</p>
<pre><strong>-n NTP, --ntp=NTP</strong>
Change ntp servers</pre>
<p><span style="text-decoration: underline;">Examples</span>:</p>
<pre>$ netios -n 192.168.254.254 -n  ntp.myserver.com 192.168.1.1 10.1.1.1 172.16.1.1
$ netios -n 192.168.254.254 -n  ntp.myserver.com ./hostfile.txt</pre>
<p>That&#8217;s all folks ! Hopefully more features are coming !</p>
<h2>Report a bug</h2>
<p>If you find a bug (I bet you will), please don&#8217;t forget to report it to me.<br />
For that, just send me a piece of e-mail describing what you were doing with a copy of your terminal output.</p>
<h2>Credits</h2>
<p>Most of the credits go to the <a title="Pexpect" href="http://sourceforge.net/projects/pexpect/">Pexpect</a> developper and the <a title="Python" href="http://www.python.org/">Python</a> language, thanks to them it so easy  and fun to make such a tool.</p>
<h2>Download</h2>
<p><i class="icon-download"></i> <a href="../wp-content/uploads/2009/11/netios-0.76.tar.gz">netios-0.76.tar.gz</a> (2010/07/13)</p>
<p><em>Older releases</em></p>
<p><i class="icon-download"></i> <a href="../wp-content/uploads/2009/11/netios-0.75.tar.gz">netios-0.75.tar.gz</a> (2010/04/24)<br />
<i class="icon-download"></i> <a href="../wp-content/uploads/2010/04/netios-0.74.tar.gz">netios-0.74.tar.gz</a> (2010/04/08)<br />
<i class="icon-download"></i> <a href="../wp-content/uploads/2010/02/netios-0.73.tar.gz">netios-0.73.tar.gz</a> (2010/02/10)<br />
<i class="icon-download"></i> <a href="../wp-content/uploads/2009/11/netios-0.72.tar.gz">netios-0.72.tar.gz</a> (2010/01/15)<br />
<i class="icon-download"></i> <a href="../wp-content/uploads/2009/11/netios-0.71.tar.gz">netios-0.71.tar.gz</a> (2009/12/20)<br />
<i class="icon-download"></i> <a href="../wp-content/uploads/2009/11/netios-0.60.tar.gz">netios-0.60.tar.gz</a> (2009/11/07 &#8211; no multiprocessing, does not require python 2.6)</p>
					</div><!-- .entry-content -->
		<footer class="entry-meta">
					</footer><!-- .entry-meta -->
	</article><!-- #post -->
							
		</div><!-- #content -->
	</div><!-- #primary -->


		</div><!-- #main .wrapper -->
	<footer id="colophon" role="contentinfo">
		<div class="site-info">
									<a href="https://wordpress.org/" class="imprint" title="Semantic Personal Publishing Platform">
				Proudly powered by WordPress			</a>
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->

<script type='text/javascript'>
/* <![CDATA[ */
var JQLBSettings = {"fitToScreen":"1","resizeSpeed":"400","displayDownloadLink":"0","navbarOnTop":"0","loopImages":"","resizeCenter":"","marginSize":"5","linkTarget":"_self","help":"","prevLinkTitle":"previous image","nextLinkTitle":"next image","prevLinkText":"\u00ab Previous","nextLinkText":"Next \u00bb","closeTitle":"close image gallery","image":"Image ","of":" of ","download":"Download","jqlb_overlay_opacity":"80","jqlb_overlay_color":"#000000","jqlb_overlay_close":"1","jqlb_border_width":"10","jqlb_border_color":"#ffffff","jqlb_border_radius":"0","jqlb_image_info_background_transparency":"100","jqlb_image_info_bg_color":"#ffffff","jqlb_image_info_text_color":"#000000","jqlb_image_info_text_fontsize":"10","jqlb_show_text_for_image":"1","jqlb_next_image_title":"next image","jqlb_previous_image_title":"previous image","jqlb_next_button_image":"https:\/\/phocean.net\/wp-content\/plugins\/wp-lightbox-2\/styles\/images\/next.gif","jqlb_previous_button_image":"https:\/\/phocean.net\/wp-content\/plugins\/wp-lightbox-2\/styles\/images\/prev.gif","jqlb_maximum_width":"","jqlb_maximum_height":"","jqlb_show_close_button":"1","jqlb_close_image_title":"close image gallery","jqlb_close_image_max_heght":"22","jqlb_image_for_close_lightbox":"https:\/\/phocean.net\/wp-content\/plugins\/wp-lightbox-2\/styles\/images\/closelabel.gif","jqlb_keyboard_navigation":"1","jqlb_popup_size_fix":"0"};
/* ]]> */
</script>
<script type='text/javascript' src='/blog-archive/wp-content/plugins/wp-lightbox-2/wp-lightbox-2.min.js'></script>
<script type='text/javascript' src='/blog-archive/wp-content/themes/twentytwelve/js/navigation.js'></script>
<script type='text/javascript' src='/blog-archive/wp-includes/js/wp-embed.min.js'></script>
<!-- Generated in 1.297 seconds. Made 12 queries to database and 43 cached queries. Memory used - 27.34MB -->
<!-- Cached by DB Cache Reloaded Fix -->
</body>

<!-- Mirrored from phocean.net/tools/netios by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 26 May 2019 07:44:27 GMT -->
</html>

<!-- Dynamic page generated in 1.267 seconds. -->