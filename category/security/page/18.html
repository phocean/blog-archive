<!DOCTYPE html>
<!--[if IE 7]>
<html class="ie ie7" lang="en-US">
<![endif]-->
<!--[if IE 8]>
<html class="ie ie8" lang="en-US">
<![endif]-->
<!--[if !(IE 7) | !(IE 8)  ]><!-->
<html lang="en-US">
<!--<![endif]-->
<link rel="stylesheet" href="../../../css/fontello.css">
<link rel="stylesheet" href="../../../css/animation.css">

<!-- Mirrored from phocean.net/category/security/page/18 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 26 May 2019 08:01:00 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=UTF-8" /><!-- /Added by HTTrack -->
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width" />
<title>Security | Phocean.net | Page 18</title>
<link rel="profile" href="http://gmpg.org/xfn/11" />
<link rel="pingback" href="../../../xmlrpc.php" />
<!--[if lt IE 9]>
<script src="/blog-archive/wp-content/themes/twentytwelve/js/html5.js"></script>
<![endif]-->

	  <link rel='dns-prefetch' href='http://fonts.googleapis.com/' />
<link rel='dns-prefetch' href='http://s.w.org/' />
<link href='https://fonts.gstatic.com/' crossorigin rel='preconnect' />
<link rel="alternate" type="application/rss+xml" title="Phocean.net &raquo; Feed" href="/blog-archive/feed" />
<link rel="alternate" type="application/rss+xml" title="Phocean.net &raquo; Security Category Feed" href="../feed" />
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/72x72\/","ext":".png","svgUrl":"https:\/\/s.w.org\/images\/core\/emoji\/11\/svg\/","svgExt":".svg","source":{"concatemoji":"https:\/\/phocean.net\/wp-includes\/js\/wp-emoji-release.min.js"}};
			!function(a,b,c){function d(a,b){var c=String.fromCharCode;l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,a),0,0);var d=k.toDataURL();l.clearRect(0,0,k.width,k.height),l.fillText(c.apply(this,b),0,0);var e=k.toDataURL();return d===e}function e(a){var b;if(!l||!l.fillText)return!1;switch(l.textBaseline="top",l.font="600 32px Arial",a){case"flag":return!(b=d([55356,56826,55356,56819],[55356,56826,8203,55356,56819]))&&(b=d([55356,57332,56128,56423,56128,56418,56128,56421,56128,56430,56128,56423,56128,56447],[55356,57332,8203,56128,56423,8203,56128,56418,8203,56128,56421,8203,56128,56430,8203,56128,56423,8203,56128,56447]),!b);case"emoji":return b=d([55358,56760,9792,65039],[55358,56760,8203,9792,65039]),!b}return!1}function f(a){var c=b.createElement("script");c.src=a,c.defer=c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var g,h,i,j,k=b.createElement("canvas"),l=k.getContext&&k.getContext("2d");for(j=Array("flag","emoji"),c.supports={everything:!0,everythingExceptFlag:!0},i=0;i<j.length;i++)c.supports[j[i]]=e(j[i]),c.supports.everything=c.supports.everything&&c.supports[j[i]],"flag"!==j[i]&&(c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&c.supports[j[i]]);c.supports.everythingExceptFlag=c.supports.everythingExceptFlag&&!c.supports.flag,c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.everything||(h=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",h,!1),a.addEventListener("load",h,!1)):(a.attachEvent("onload",h),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),g=c.source||{},g.concatemoji?f(g.concatemoji):g.wpemoji&&g.twemoji&&(f(g.twemoji),f(g.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='wp-lightbox-2.min.css-css'  href='/blog-archive/wp-content/plugins/wp-lightbox-2/styles/lightbox.min.css?ver=1.3.4' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-fonts-css'  href='https://fonts.googleapis.com/css?family=Open+Sans:400italic,700italic,400,700&amp;subset=latin,latin-ext' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-style-css'  href='/blog-archive/wp-content/themes/twentytwelve-child/style.css?ver=4.9.10' type='text/css' media='all' />
<link rel='stylesheet' id='twentytwelve-block-style-css'  href='/blog-archive/wp-content/themes/twentytwelve/css/blocks.css?ver=20181230' type='text/css' media='all' />
<!--[if lt IE 9]>
<link rel='stylesheet' id='twentytwelve-ie-css'  href='/blog-archive/wp-content/themes/twentytwelve/css/ie.css?ver=20121010' type='text/css' media='all' />
<![endif]-->
<script type='text/javascript' src='/blog-archive/wp-includes/js/jquery/jquery.js'></script>
<script type='text/javascript' src='/blog-archive/wp-includes/js/jquery/jquery-migrate.min.js'></script>
<link rel='https://api.w.org/' href='../../../wp-json/index.html' />
<link rel="EditURI" type="application/rsd+xml" title="RSD" href="../../../xmlrpc0db0.php?rsd" />
<link rel="wlwmanifest" type="application/wlwmanifest+xml" href="/blog-archive/wp-includes/wlwmanifest.xml" /> 
<meta name="generator" content="WordPress 4.9.10" />
	<style type="text/css" id="twentytwelve-header-css">
			.site-header h1 a,
		.site-header h2 {
			color: #627690;
		}
		</style>
	</head>

<body class="archive paged category category-security category-17 paged-18 category-paged-18 full-width custom-font-enabled single-author">
<div id="page" class="hfeed site">
	<header id="masthead" class="site-header" role="banner">
		<hgroup>
                        <div style="float:left">

			<a href="../../../index.html" >
			<img class="logo" src="../../../logo.svg" width="119" height="77" onerror="this.removeAttribute('onerror'); this.src='../../../logo.html'" />
			</a>

                        <!--<img src="/blog-archive/wp-content/themes/twentytwelve-child/logo.png" style="vertical-align:middle;"/>-->

                        </div>
                        <div style="float:left">
                        <h1 class="site-title">
                      <span><a href="../../../index.html" title="Phocean.net" rel="home">
                        Phocean.net</a></span></h1>
			<h2 class="site-description">Computer Security Blog</h2>
                </div>
		<div style="float:right;overflow:hidden;word-wrap: break-word;">
			<form role="search" method="get" id="searchform" class="searchform" action="/blog-archive/">
				<div>
					<label class="screen-reader-text" for="s">Search for:</label>
					<input type="text" value="" name="s" id="s" />
					<input type="submit" id="searchsubmit" value="Search" />
				</div>
			</form>		</div>
		</hgroup>

                <div style="clear:both"></div>
		<nav id="site-navigation" class="main-navigation" role="navigation">
			<h3 class="menu-toggle">Menu</h3>
			<a class="assistive-text" href="#content" title="Skip to content">Skip to content</a>
			<div class="menu-top-container"><ul id="menu-top" class="nav-menu"><li id="menu-item-1527" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-1527"><a href="../../../index.html"><i class="icon-home"></i> Blog</a></li>
<li id="menu-item-1919" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1919"><a href="../../../archives.html"><i class="icon-archive"></i> Archives</a></li>
<li id="menu-item-1525" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1525"><a href="../../../tools.html"><i class="icon-beaker"></i> Code</a></li>
<li id="menu-item-1559" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1559"><a href="../../../docs.html"><i class="icon-doc"></i> Docs</a></li>
<li id="menu-item-1526" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1526"><a href="../../../about.html"><i class="icon-user"></i> About</a></li>
<li id="menu-item-1809" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1809"><a href="http://twitter.com/_phocean"><i class="icon-twitter-1"></i> Twitter</a></li>
<li id="menu-item-1810" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-1810"><a href="../../../indexcc4d.html?feed=rss"><i class="icon-rss"></i> RSS</a></li>
</ul></div>		</nav><!-- #site-navigation -->

			</header><!-- #masthead -->

	<div id="main" class="wrapper">
	<section id="primary" class="site-content">
		<div id="content" role="main">

					<header class="archive-header">
				<h1 class="archive-title">Category Archives: <span>Security</span></h1>

						</header><!-- .archive-header -->

			
	<article id="post-99" class="post-99 post type-post status-publish format-standard hentry category-cryptography category-linux category-security tag-cold-boot-attack tag-encryption tag-hard-drive">
				<header class="entry-header">

						<h1 class="entry-title">
				<a href="../../../2008/02/25/disk-encryption-methods-hacked.html" title="Permalink to Disk encryption methods : hacked !" rel="bookmark">Disk encryption methods : hacked !</a>
			</h1>
								</header><!-- .entry-header -->

				<div class="entry-content">
			<!-- Adds 140x140 featured image to single post view -->
			<div class="excerpt-thumb">
							</div>
			<p>Damned !</p>
<p><a title="disk encryption hackers" href="http://citp.princeton.edu/memory">A team of researchers</a> found a way to defeat all the most common disk encryption methods &#8211; including dm-crypt for Linux that I <a title="dm-crypt tutorial" href="../../../../http/www.phocean.net/index648c.html?p=85">previously described</a> on this blog.</p>
<p>All systems are actually concerned, because the attack is low level. It is based on the RAM chips properties. After shutdown, and therefore no more electricity powering, a chip will still contain some readable information during a few seconds.</p>
<p>The data contained is deteriorating, but for example if you cool the chip enough, for example with a computer dry air dust cleaner, you can keep the data several minutes !</p>
<p>The problem concerning data encryption is that the decryption key is kept in RAM, and that way be stolen to read all your data.</p>
<p>The attack would not so easy in practice, if suspend-to-ram did not exist.</p>
<p>But as many users, including me, use heavily suspend-to-ram with their laptop, this issue is rather problematic&#8230;</p>
<p>The team provides a rather impressive video :</p>
<p style="text-align: center;"><object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" width="425" height="355" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=6,0,40,0"><param name="wmode" value="transparent" /><param name="src" value="http://www.youtube.com/v/JDaicPIgn9U&amp;rel=1" /><embed type="application/x-shockwave-flash" width="425" height="355" src="http://www.youtube.com/v/JDaicPIgn9U&amp;rel=1" wmode="transparent"></embed></object></p>
<p>I no longer use dm-crypt since my <a title="my thinkpad T61" href="../../../indexb190.html?p=97">Thinkpad</a> provides hardware encryption, but I wonder now where the key is stored in my case. I don&#8217;t think it is in RAM, but I have to check it to make sure.I will do it tomorrow, since I need to rest now.</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			<i class="icon-folder-open-empty"></i> <a href="../cryptography.html" rel="category tag">Cryptography</a>, <a href="../../administration-systeme/linux.html" rel="category tag">Linux</a>, <a href="../../security.html" rel="category tag">Security</a> <i class="icon-tag"></i> <a href="../../../tag/cold-boot-attack.html" rel="tag">Cold boot attack</a>, <a href="../../../tag/encryption.html" rel="tag">Encryption</a>, <a href="../../../tag/hard-drive.html" rel="tag">Hard drive</a> <i class="icon-calendar"></i> <a href="../../../2008/02/25/disk-encryption-methods-hacked.html" title="11:25 pm" rel="bookmark"><time class="entry-date" datetime="2008-02-25T23:25:49+00:00">February 25, 2008</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../../author/jc.html" title="View all posts by phocean" rel="author">phocean</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
	<article id="post-95" class="post-95 post type-post status-publish format-standard hentry category-security tag-authentication tag-openid tag-sso tag-wordpress">
				<header class="entry-header">

						<h1 class="entry-title">
				<a href="../../../2008/01/17/openid-is-gaining-popularity.html" title="Permalink to OpenID is gaining popularity" rel="bookmark">OpenID is gaining popularity</a>
			</h1>
								</header><!-- .entry-header -->

				<div class="entry-content">
			<!-- Adds 140x140 featured image to single post view -->
			<div class="excerpt-thumb">
							</div>
			<p><a title="Yahoo supports OpenID" href="http://www.zdnet.fr/actualites/internet/0,39020774,39377529,00.htm?xtor=RSS-1">Yahoo</a> just announced that it will support OpenID.</p>
<p>OpenID is an interesting initiative to provide single-sign-on to user. It is both secure and simple, so it will be probably spread out quickly.</p>
<p>You can get your own OpenID by suscribing to a provider or setting up your own server if you got a domain name.</p>
<p>I will soon write an complete post about it, but now you can already check <a title="OpenID.net" href="http://openid.net/">the official OpenID site</a>.</p>
<p>Note that this blog already supports OpenID !<noscript></noscript><noscript></noscript></p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			<i class="icon-folder-open-empty"></i> <a href="../../security.html" rel="category tag">Security</a> <i class="icon-tag"></i> <a href="../../../tag/authentication.html" rel="tag">Authentication</a>, <a href="../../../tag/openid.html" rel="tag">OpenID</a>, <a href="../../../tag/sso.html" rel="tag">SSO</a>, <a href="../../../tag/wordpress.html" rel="tag">Wordpress</a> <i class="icon-calendar"></i> <a href="../../../2008/01/17/openid-is-gaining-popularity.html" title="6:33 pm" rel="bookmark"><time class="entry-date" datetime="2008-01-17T18:33:08+00:00">January 17, 2008</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../../author/jc.html" title="View all posts by phocean" rel="author">phocean</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
	<article id="post-86" class="post-86 post type-post status-publish format-standard hentry category-cryptography category-security tag-hash tag-md5 tag-vulnerability tag-wordpress">
				<header class="entry-header">

						<h1 class="entry-title">
				<a href="../../../2007/11/26/md5-hash-googling-and-wordpress-password-weakness.html" title="Permalink to md5 hash googling &#8211; and WordPress password weakness" rel="bookmark">md5 hash googling &#8211; and WordPress password weakness</a>
			</h1>
								</header><!-- .entry-header -->

				<div class="entry-content">
			<!-- Adds 140x140 featured image to single post view -->
			<div class="excerpt-thumb">
							</div>
			<p>Some Md5 password implementation &#8211; without a salt, become more insecure than ever. There is an issue right now with WordPress, I hope they will fix it soon !</p>
<p><a title="Lightbluetouchpaper - md5" href="http://www.lightbluetouchpaper.org/" target="_blank">Check this interesting article</a>.</p>
<p>No need to take out your rainbow tables anymore, just google your hash ! I hope your password is strong enough&#8230;</p>
<p>You could also use one of these :</p>
<p><a title="md5 rednoize" href="http://md5.rednoize.com/" target="_blank">http://md5.rednoize.com</a></p>
<p><a title="md5 cryptobitch" href="http://md5.cryptobitch.de/" target="_blank">http://md5.cryptobitch.de </a></p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			<i class="icon-folder-open-empty"></i> <a href="../cryptography.html" rel="category tag">Cryptography</a>, <a href="../../security.html" rel="category tag">Security</a> <i class="icon-tag"></i> <a href="../../../tag/hash.html" rel="tag">hash</a>, <a href="../../../tag/md5.html" rel="tag">MD5</a>, <a href="../../../tag/vulnerability.html" rel="tag">Vulnerability</a>, <a href="../../../tag/wordpress.html" rel="tag">Wordpress</a> <i class="icon-calendar"></i> <a href="../../../2007/11/26/md5-hash-googling-and-wordpress-password-weakness.html" title="9:38 am" rel="bookmark"><time class="entry-date" datetime="2007-11-26T09:38:16+00:00">November 26, 2007</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../../author/jc.html" title="View all posts by phocean" rel="author">phocean</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
	<article id="post-85" class="post-85 post type-post status-publish format-standard hentry category-cryptography category-linux category-security tag-cryptoloop tag-cryptsetup tag-dmcrypt tag-encryption tag-hard-drive tag-linux tag-luks tag-swap">
				<header class="entry-header">

						<h1 class="entry-title">
				<a href="../../../2007/11/18/disk-encryption-on-linux.html" title="Permalink to Disk Encryption on Linux" rel="bookmark">Disk Encryption on Linux</a>
			</h1>
								</header><!-- .entry-header -->

				<div class="entry-content">
			<!-- Adds 140x140 featured image to single post view -->
			<div class="excerpt-thumb">
							</div>
			<p>I finally encrypted some partitions of my hard drive.</p>
<p>An external hard drive that I just bought (320 Gb) that allowed me to back up my entire /home partition and consider encrypting it.</p>
<p>I mainly used <a title="Encryption on Ubuntu" href="http://johnleach.co.uk/words/archives/2006/12/06/245/" target="_blank">this tutorial</a>, but I derived a little from it about the unlocking system : I did not want to input a password while the machine boots, I wanted it to be transparent while I log in. This <a title="dmcrypt" href="http://dev.riseup.net/grimoire/storage/encryption/dmcrypt/" target="_blank">how to</a> provides more complete information, if needed.</p>
<p>So I will summarize here the actions to get an encrypted volume.</p>
<p><strong>The tools</strong></p>
<p><a title="dmcrypt" href="http://www.saout.de/misc/dm-crypt/" target="_blank">dmcrypt</a> is a device mapper supported by the 2.6 Linux kernel. Roughly, this is an abstraction layer between the kernel and the real file system, doing all encrypting / decrypt operations. It is a replacement of <a title="cryptoloop" href="http://tldp.org/HOWTO/Cryptoloop-HOWTO/index.html">cryptoloop</a>, which created a loop device in a file within the file system. It can&#8217;t encrypt a whole partition and can be considered now as less reliable and secured.</p>
<p>The encryption is based on <a title="LUKS" href="http://luks.endorphin.org/" target="_blank">LUKS</a> is a userland tool aiming to simplify the set-up of dm-crypt. It also stores some set-up information related to the encryption in the partition header, to make easy the transportation of the data from a machine to another, changing the passphrase without having to re-encode the entire partition, and even support having multi passphrases for the same device.</p>
<p><strong>What to encrypt and why ? </strong></p>
<p>The first thing is to decide what you will encrypt and how. Of course, I consider that your drive is rightly partitioned with, at least, the /, /home and swap having each a separated partition.</p>
<p>It is the case on my laptop. I chose to encrypt both the /home and the swap partitions.</p>
<p>In my case, there were little interest in encrypting the / partition. It contains only configuration files (without any password hardcoded), the /temp and applications &#8211; nothing to keep secret. But of course it might be different for you, depending on the security level you are looking for.</p>
<p>To the contrary, the /home partitions contains a lot of private data that I wouldn&#8217;t like anyone access in any case.</p>
<p>Then, it is rather important to encrypt the swap, because it is roughly a partial of you RAM and therefore contains all kind of information from your opened session. The annoying thing is that hibernation (suspend to disk) will not work anymore. It is anyway worth to be done, as it is well explained by <a title="Why encrypting the swap" href="http://theworldofapenguin.blogspot.com/2006_12_01_archive.html" target="_blank">this blogger</a>.</p>
<p><strong>Preparing the software</strong></p>
<p>Using Debian Etch or Ubundu Festy/Gutsy, it is easy though the provided kernel (2.6) already supports device mapper, crypt target and AES cipher algorithm as modules :</p>
<pre>$ apt-get install dmsetup cryptsetup libpam-mount</pre>
<p><strong>Encrypting swap</strong></p>
<p><em><strong>UPDATE 2008/04/13 : it is now possible to encrypt the swap in <a title="Encrypting Swap and Suspend to disk" href="http://feeding.cloud.geek.nz/2008/03/encrypted-swap-partition-on.html" target="_blank">a way that preserve suspend-to-disk</a>.</strong></em></p>
<p>It is a good test to start with the swap, as there is no risk that you loose some valuable data.</p>
<p>First, let&#8217;s deactivate the current swap before any operation :</p>
<pre>$ swapoff /dev/hda2</pre>
<p>We suppose that hda2 is your swap partition :</p>
<pre>$ cryptsetup luksFormat -c aes-cbc-essiv:sha256 /dev/hda2</pre>
<p>add this line to the /etc/crypttab file :</p>
<pre>swap    /dev/hda2       /dev/urandom     swap</pre>
<p>It means that we are going to create a mapper named swap for the <strong>/dev/hda2</strong> device. It will use a random key as a passphrase for the encryption.</p>
<p>There is a choice to do between <strong>/dev/random</strong> and <strong>/dev/urandom</strong>. The latter is in theory a little bit less secure (the randomizing is inferior to the /dev/random, as it reuses the internal pool data for the generation), but it is preferable if you don&#8217;t want to be blocked at boot time, while the kernel is trying to get more entropy (you can shorten this by pressing some keys, though).</p>
<p>Now starts this script :</p>
<pre>$ /etc/init.d/cryptdisks start</pre>
<p>It will create a mapper named <strong>swap</strong> to the <strong>/dev/hda2</strong> partition, as set in the <strong>crypttab</strong> file.<br />
This is equivalent to this command :</p>
<pre>$ cryptsetup -y create swap /dev/hda2</pre>
<p>Now, we need to create the file system :</p>
<pre>$ mkswap /dev/mapper/swap</pre>
<p>Now we need to update the /etc/fstab file, commenting the old entry for hda2 and adding a new one for the mapped device :</p>
<pre>/dev/hda2       none            swap    sw              0       0
/dev/mapper/swap        none    swap    sw      0       0</pre>
<p>Now you are ready to test ! Just reboot, and without any user interaction, you should get an encrypted swap with a randomized key.</p>
<p><strong>Encrypting /home</strong></p>
<p>Now let&#8217;s encrypt the /home. Before doing anything, <strong>be SURE that you made a BACK UP of ALL your data</strong>. <strong>The entire /home will be ERASED !</strong></p>
<p>We consider that <strong>hda3</strong> is the /home partition :</p>
<pre>$ cryptsetup luksFormat -c aes-cbc-essiv:sha256 /dev/had
$ cryptsetup -y create home /dev/hda
$ mkfs.ext3 /dev/mapper/home</pre>
<p>We won&#8217;t use neither the <strong>crypttab</strong> file or the <strong>fstab</strong> one, because we don&#8217;t want to be prompted at boot time for a password. And of course we can&#8217;t afford to crypt our data with a randomized key, changing at every boot !</p>
<p>What we want is the encryption to be done at log-in time, without prompting the user for another passphrase. Don&#8217;t we have enough passwords to memorize to add one more !?</p>
<p>We are going to use <strong>PAM,</strong> the Linux authentication mechanism, with its <strong>libpam-mount</strong> module. It is designed to mount some devices while the user log in, exactly what we need ! The user Linux password will be used as the encryption passphrase.</p>
<p>Of course, the security level will depend on your user password &#8211; take a good care on its length and complexity (though it must be already the case, encryption or not). A good compromise is probably an 8 digits password. Of course, if you are looking for the top level security, prefer the boot time passphrase prompting method&#8230;</p>
<p>To activate it, create or edit the <strong>/etc/security/pam-mount.conf.xml</strong> file and add this line :</p>
<pre><code>&lt;volume user="user" fstype="crypt" path="/dev/mapper/home" mountpoint="/home" options="fsck,relatime" /&gt;</code></pre>
<p>Also add this at the end of the <strong>/etc/pam.d/common-auth</strong> file :</p>
<pre># cryptsetup
auth    optional        pam_mount.so use_first_pass</pre>
<p>That&#8217;s done ! Testing is easy : log off, log in and check that your /home partition is well monted. It should not been mounted or readable for other users, including root.</p>
<p><strong>Encrypting a removable device</strong></p>
<p>We assume that you have a usb key (once again BACK UP your data) inserted, corresponding to the <strong>/dev/sda</strong> device :</p>
<pre>$ cryptsetup luksFormat -c aes-cbc-essiv:sha256 /dev/sda1</pre>
<p>We open manually the luks partition :</p>
<pre>$ cryptsetup luksOpen /dev/sda1 usbkey</pre>
<p>We format it with the filesystem of your choice (here ext3) :</p>
<pre>$ mkfs.ext3 /dev/mapper/usbkey</pre>
<p>We close the partition :</p>
<pre>$ cryptsetup luksClose usbkey</pre>
<p>Now every time you insert the key, you will be prompted for the password (at least by Gnome through the keyring manager box, though I haven&#8217;t tested yet with a different window manager).</p>
<p><strong>Conclusion</strong></p>
<p>This was a much easier experience than I previously thought. Much work has been made to hide the complex layers behind that, and it now takes only a few steps to get a pretty well secured hard drive.</p>
<p>However I think it really must become more user-friendly for the masses. Most of people will still be scared to open a terminal and type the commands above, so I am looking forward to seeing some graphical front-end to manage all that. Sure there are coming, and if you already know some project, please let me know.</p>
<p>About performance, if encryption must have a resource cost, I could not notice any slow down on a pretty modest hardware (celeron M 1,5 Ghz).</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			<i class="icon-folder-open-empty"></i> <a href="../cryptography.html" rel="category tag">Cryptography</a>, <a href="../../administration-systeme/linux.html" rel="category tag">Linux</a>, <a href="../../security.html" rel="category tag">Security</a> <i class="icon-tag"></i> <a href="../../../tag/cryptoloop.html" rel="tag">cryptoloop</a>, <a href="../../../tag/cryptsetup.html" rel="tag">cryptsetup</a>, <a href="../../../tag/dmcrypt.html" rel="tag">dmcrypt</a>, <a href="../../../tag/encryption.html" rel="tag">Encryption</a>, <a href="../../../tag/hard-drive.html" rel="tag">Hard drive</a>, <a href="../../../tag/linux.html" rel="tag">Linux</a>, <a href="../../../tag/luks.html" rel="tag">Luks</a>, <a href="../../../tag/swap.html" rel="tag">swap</a> <i class="icon-calendar"></i> <a href="../../../2007/11/18/disk-encryption-on-linux.html" title="7:56 pm" rel="bookmark"><time class="entry-date" datetime="2007-11-18T19:56:47+00:00">November 18, 2007</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../../author/jc.html" title="View all posts by phocean" rel="author">phocean</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
	<article id="post-84" class="post-84 post type-post status-publish format-standard hentry category-defense category-hardware category-linux tag-cisco tag-debian tag-linux tag-minicom tag-pix tag-serial-port tag-ubuntu">
				<header class="entry-header">

						<h1 class="entry-title">
				<a href="../../../2007/11/13/how-to-connect-to-a-cisco-device-using-the-serial-port-on-linux.html" title="Permalink to How to connect to a Cisco device using the serial port on Linux" rel="bookmark">How to connect to a Cisco device using the serial port on Linux</a>
			</h1>
								</header><!-- .entry-header -->

				<div class="entry-content">
			<!-- Adds 140x140 featured image to single post view -->
			<div class="excerpt-thumb">
							</div>
			<p>Using the serial port is still necessary to manage some devices, when it is reseted to factory defaults. It could be also a security choice&#8230;</p>
<p>Nowadays many computers &#8211; and especially laptops don&#8217;t have anymore a built-in serial port.  Not a problem, there are many cheap serial-usb converters <a href="http://www.usbgear.com/USB-1S1PQ.html" target="_blank">like this</a>.</p>
<p>As an alternative to the Hyperterminal of Microsoft, there is Minicom on Linux.</p>
<p>It is very easy to install and configure :</p>
<pre>$ apt-get install minicom lrzsz</pre>
<p>Before going further, you need to know what is the corresponding Linux device for the port where you plugged the router. As I used an usb adapter, my device was <strong>/dev/ttyUSB0</strong>. Otherwise, it will probably be one of the <strong>/dev/ttyS*</strong> devices.<br />
Checking the <strong>dmesg</strong> output while you plug the device will give you the right device to use.</p>
<p>Now start minicom this way to edit the configuration :</p>
<pre>$ minicom -s</pre>
<p>In the menu, select <em>Serial Port Configuration</em> and  :</p>
<ul>
<li> press A and update the serial port path with the one you found in dmesg</li>
<li>press E and then C to change the speed to 9600</li>
<li>press F to switch off the hardware flow control</li>
<li>select <em>Save the configuration as&#8230;</em> and name it as, let&#8217;s say, &#8220;cisco&#8221;</li>
</ul>
<p>You should be able to connect right now. Next time, just start Minicom like this :</p>
<pre>$ minicom cisco</pre>
<p>That&#8217;s it !</p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			<i class="icon-folder-open-empty"></i> <a href="../defense.html" rel="category tag">Defense</a>, <a href="../../hardware.html" rel="category tag">Hardware</a>, <a href="../../administration-systeme/linux.html" rel="category tag">Linux</a> <i class="icon-tag"></i> <a href="../../../tag/cisco.html" rel="tag">Cisco</a>, <a href="../../../tag/debian.html" rel="tag">Debian</a>, <a href="../../../tag/linux.html" rel="tag">Linux</a>, <a href="../../../tag/minicom.html" rel="tag">Minicom</a>, <a href="../../../tag/pix.html" rel="tag">Pix</a>, <a href="../../../tag/serial-port.html" rel="tag">serial port</a>, <a href="../../../tag/ubuntu.html" rel="tag">Ubuntu</a> <i class="icon-calendar"></i> <a href="../../../2007/11/13/how-to-connect-to-a-cisco-device-using-the-serial-port-on-linux.html" title="12:41 pm" rel="bookmark"><time class="entry-date" datetime="2007-11-13T12:41:35+00:00">November 13, 2007</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../../author/jc.html" title="View all posts by phocean" rel="author">phocean</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->
	<article id="post-80" class="post-80 post type-post status-publish format-standard hentry category-defense category-linux category-administration-reseau category-security tag-asa tag-cisco tag-ftp tag-pix">
				<header class="entry-header">

						<h1 class="entry-title">
				<a href="../../../2007/11/02/the-horror-of-ftp-and-cisco-firewall.html" title="Permalink to FTP configuration issues" rel="bookmark">FTP configuration issues</a>
			</h1>
								</header><!-- .entry-header -->

				<div class="entry-content">
			<!-- Adds 140x140 featured image to single post view -->
			<div class="excerpt-thumb">
							</div>
			<p>I found that it was a real mess to set up a FTP server in a DMZ, behind a firewall Cisco Asa (501 model with IOS version 7.0).</p>
<p>The FTP server is on the DMZ area, and therefore I natted a public IP to the private IP in the DMZ subnet of this server.</p>
<pre>static (dmz,outside) &lt;public IP&gt; &lt;private_IP&gt; netmask 255.255.255.255</pre>
<p>Doing so, I expect that my FTP server (like Vsftpd on Linux) to be reachable within its public IP, from the Asa external interface.<br />
 <a href="../../../2007/11/02/the-horror-of-ftp-and-cisco-firewall.html#more-80" class="more-link">Continue reading <span class="meta-nav">&rarr;</span></a></p>
					</div><!-- .entry-content -->
		
		<footer class="entry-meta">
			<i class="icon-folder-open-empty"></i> <a href="../defense.html" rel="category tag">Defense</a>, <a href="../../administration-systeme/linux.html" rel="category tag">Linux</a>, <a href="../../administration-reseau.html" rel="category tag">Network</a>, <a href="../../security.html" rel="category tag">Security</a> <i class="icon-tag"></i> <a href="../../../tag/asa.html" rel="tag">Asa</a>, <a href="../../../tag/cisco.html" rel="tag">Cisco</a>, <a href="../../../tag/ftp.html" rel="tag">FTP</a>, <a href="../../../tag/pix.html" rel="tag">Pix</a> <i class="icon-calendar"></i> <a href="../../../2007/11/02/the-horror-of-ftp-and-cisco-firewall.html" title="5:10 pm" rel="bookmark"><time class="entry-date" datetime="2007-11-02T17:10:28+00:00">November 2, 2007</time></a><span class="by-author"> by <span class="author vcard"><a class="url fn n" href="../../../author/jc.html" title="View all posts by phocean" rel="author">phocean</a></span></span>.								</footer><!-- .entry-meta -->
	</article><!-- #post -->			<nav id="nav-below" class="navigation" role="navigation">
				<h3 class="assistive-text">Post navigation</h3>
				<div class="nav-previous"><a href="19.html" ><span class="meta-nav">&larr;</span> Older posts</a></div>
				<div class="nav-next"><a href="17.html" >Newer posts <span class="meta-nav">&rarr;</span></a></div>
			</nav><!-- .navigation -->
			
		
		</div><!-- #content -->
	</section><!-- #primary -->


		</div><!-- #main .wrapper -->
	<footer id="colophon" role="contentinfo">
		<div class="site-info">
									<a href="https://wordpress.org/" class="imprint" title="Semantic Personal Publishing Platform">
				Proudly powered by WordPress			</a>
		</div><!-- .site-info -->
	</footer><!-- #colophon -->
</div><!-- #page -->

<script type='text/javascript'>
/* <![CDATA[ */
var JQLBSettings = {"fitToScreen":"1","resizeSpeed":"400","displayDownloadLink":"0","navbarOnTop":"0","loopImages":"","resizeCenter":"","marginSize":"5","linkTarget":"_self","help":"","prevLinkTitle":"previous image","nextLinkTitle":"next image","prevLinkText":"\u00ab Previous","nextLinkText":"Next \u00bb","closeTitle":"close image gallery","image":"Image ","of":" of ","download":"Download","jqlb_overlay_opacity":"80","jqlb_overlay_color":"#000000","jqlb_overlay_close":"1","jqlb_border_width":"10","jqlb_border_color":"#ffffff","jqlb_border_radius":"0","jqlb_image_info_background_transparency":"100","jqlb_image_info_bg_color":"#ffffff","jqlb_image_info_text_color":"#000000","jqlb_image_info_text_fontsize":"10","jqlb_show_text_for_image":"1","jqlb_next_image_title":"next image","jqlb_previous_image_title":"previous image","jqlb_next_button_image":"https:\/\/phocean.net\/wp-content\/plugins\/wp-lightbox-2\/styles\/images\/next.gif","jqlb_previous_button_image":"https:\/\/phocean.net\/wp-content\/plugins\/wp-lightbox-2\/styles\/images\/prev.gif","jqlb_maximum_width":"","jqlb_maximum_height":"","jqlb_show_close_button":"1","jqlb_close_image_title":"close image gallery","jqlb_close_image_max_heght":"22","jqlb_image_for_close_lightbox":"https:\/\/phocean.net\/wp-content\/plugins\/wp-lightbox-2\/styles\/images\/closelabel.gif","jqlb_keyboard_navigation":"1","jqlb_popup_size_fix":"0"};
/* ]]> */
</script>
<script type='text/javascript' src='/blog-archive/wp-content/plugins/wp-lightbox-2/wp-lightbox-2.min.js'></script>
<script type='text/javascript' src='/blog-archive/wp-content/themes/twentytwelve/js/navigation.js'></script>
<script type='text/javascript' src='/blog-archive/wp-includes/js/wp-embed.min.js'></script>
<!-- Generated in 1.530 seconds. Made 10 queries to database and 46 cached queries. Memory used - 27.6MB -->
<!-- Cached by DB Cache Reloaded Fix -->
</body>

<!-- Mirrored from phocean.net/category/security/page/18 by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 26 May 2019 08:01:01 GMT -->
</html>

<!-- Dynamic page generated in 1.500 seconds. -->